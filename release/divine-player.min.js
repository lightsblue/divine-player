var DivinePlayer=function(){var a=function(){function a(a,c,d){this.el=a,this.el.width="undefined"!=typeof c.width?c.width:c.size,this.el.height="undefined"!=typeof c.height?c.height:c.size,this.el.muted=a.hasAttribute("muted"),b(this.el,navigator.userAgent),d&&d(this)}function b(a,b){var c=/ipad/i.test(b),d=/ipad/i.test(b),e=/android/i.test(b),f=/chrome/i.test(b),g=c||d||e;if(a.hasAttribute("poster")&&f&&!g){{a.getAttribute("poster")}a.removeAttribute("poster")}a.hasAttribute("controls")||!c&&!e||(a.controls=!0,a.addEventListener("play",function(){a.controls=!1},!1)),e&&(a.loop=!1,a.addEventListener("ended",function(){a.play()},!1)),a.hasAttribute("autoplay")&&a.play();for(var h=a.getElementsByTagName("source"),i=0,j=h.length;j>i;i++)h[i].addEventListener("error",function(){var b=new Event("videoFailed");b.target=a,a.dispatchEvent(b)})}return a.name=a.name||"HTML5Player",a.canPlay=function(a){try{for(var b=a.getElementsByTagName("source"),c=0,d=b.length;d>c;c++){var e=b[c].getAttribute("type"),f=a.canPlayType(e);if(f)return!0}}catch(g){}return!1},a.fn=a.prototype,a.fn.play=function(){this.el.play()},a.fn.currentTime=function(a){return"undefined"!=typeof a&&(this.el.currentTime=a),this.el.currentTime},a.fn.duration=function(){return this.el.duration},a.fn.pause=function(){this.el.pause()},a.fn.paused=function(){return this.el.paused},a.fn.mute=function(){this.el.muted=!0},a.fn.unmute=function(){this.el.muted=!1},a.fn.muted=function(){return this.el.muted},a}(),b=function(a){function b(a,b){var c;document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(b,!0,!0)):document.createEventObject&&(c=document.createEventObject(),c.eventType=b),c.eventName=b,a.dispatchEvent&&a.dispatchEvent(c)}function c(c,f,g){"undefined"==typeof f.width&&(f.width="undefined"!=typeof f.size?f.size:m),"undefined"==typeof f.height&&(f.height="undefined"!=typeof f.size?f.size:m);var h="divinePlayer",i=(new Date).getTime(),n=[h,"onReady",i].join("_"),o=[h,"onError",i].join("_"),p=[h,"onDuration",i].join("_"),q=0/0,r=this;n&&(a[n]=function(){g(r)}),a[o]=function(a,d){throw b(c,"videoFailed"),{name:"ActionScript "+a,message:d}},a[p]=function(a){q=a,b(c,"durationchange")};var s=l(c.getAttribute("data-fallback-player"),f.swf);if(!s)throw"SWF url must be specified.";this.swf=j(s,c,{width:f.width,height:f.height,autoplay:k(c,"autoplay"),muted:k(c,"muted"),loop:k(c,"loop"),poster:k(c,"poster")?d(c.getAttribute("poster")):void 0,video:e(c),onReady:n,onError:o,onDuration:p}),this.duration=function(){return q}}function d(a){return 0===(a||"").indexOf("//")?document.location.protocol+a:a}function e(a){var b=a.getElementsByTagName("source");return b.length?d(b[0].src):void 0}function f(a){return i(a,function(a,b){return a+'="'+b+'"'}," ")}function g(a){return i(a,function(a,b){return"<param "+f({name:a,value:b})+" />"},"\n")}function h(a){return i(a,function(a,b){return a+"="+encodeURIComponent(b)},"&")}function i(a,b,c){var d=[];for(var e in a)a.hasOwnProperty(e)&&d.push(b(e,a[e]));return d.join(c)}function j(a,b,c){var d=f({id:b.id,data:a,width:c.width,height:c.height,type:"application/x-shockwave-flash"}),e=g({movie:a,allowScriptAccess:"always",allowNetworking:"all",wmode:"opaque",quality:"high",bgcolor:"#000000",flashvars:h(c)});return b.outerHTML="<object "+d+">"+e+"</object>",document.getElementById(b.id)}function k(a,b){return null!=a.getAttribute(b)}function l(a,b){return null==b?a:b}var m=150;return c.name=c.name||"FlashPlayer",c.canPlay=function(){try{if(/MSIE 10/i.test(navigator.userAgent))return!1;var a=window.ActiveXObject?new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version"):navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin.description,b=/(\d+)[,.]\d+/.exec(a),c=parseInt(b[1],10);return c>=9}catch(d){}return!1},c.fn=c.prototype,c.fn.play=function(){this.swf.divinePlay()},c.fn.currentTime=function(a){return"undefined"==typeof a?this.swf.divineGetCurrentTime():(this.swf.divineCurrentTime(a),void 0)},c.fn.pause=function(){this.swf.divinePause()},c.fn.paused=function(){return this.swf.divinePaused()},c.fn.mute=function(){this.swf.divineMute()},c.fn.unmute=function(){this.swf.divineUnmute()},c.fn.muted=function(){return this.swf.divineMuted()},c}(this),c=function(){function c(a,b,h){d(a,"Element must be defined.");var b=b||{};if(b.allowHashMessage)for(var j=window.location.hash.replace("#","").split(","),k=0,l=j.length;l>k;k++)i.indexOf(j[k])>=0&&(b[j[k]]=!0);for(var k=0,l=i.length;l>k;k++){var m=i[k],n=b[i[k]];null!=n&&e(a,m,n)}var o=d(c.getSupportedPlayer(a),"No supported player found."),p=new o(a,b,h);return b.allowHashMessage&&f("hashchange",function(){g(window.location.hash.replace("#",""),p)}),b.allowPostMessage&&f("message",function(a){g(a.data,p)}),p}function d(a,b){if(!a)throw b||"Requirement isn't fullfilled";return a}function e(a,b,c){if(c)try{a.setAttribute(b,b)}catch(d){}else a.removeAttribute(b)}function f(a,b){window.addEventListener?window.addEventListener(a,b,!1):window.attachEvent("on"+a,b)}function g(a,b){switch(a){case"play":b.play();break;case"pause":b.pause();break;case"mute":b.mute();break;case"unmute":b.unmute()}}var h=[a,b],i=["autoplay","controls","loop","muted"];return c.players=h,c.options=i,c.getSupportedPlayer=function(a){for(var b=0,c=h.length;c>b;b++)if(h[b].canPlay(a))return h[b]},c}();return c}();