var DivinePlayer = (function() {
var HTML5Player=function(){function a(a,c,d){this.el=a,this.el.muted=a.hasAttribute("muted"),b(this.el,navigator.userAgent),d&&d(this)}function b(a,b){/ipad/i.test(b)&&(a.controls=!0,a.addEventListener("play",function(){a.controls=!1},!1)),/android/i.test(b)&&(a.loop=!1,a.addEventListener("ended",function(){a.play()},!1)),a.hasAttribute("autoplay")&&(a.controls=!0,a.play(),a.controls=!1)}return a.name=a.name||"HTML5Player",a.canPlay=function(a){try{for(var b=a.getElementsByTagName("source"),c=0,d=b.length;d>c;c++){var e=b[c].getAttribute("type"),f=a.canPlayType(e);if(f)return!0}}catch(g){}return!1},a.fn=a.prototype,a.fn.play=function(){this.el.play()},a.fn.pause=function(){this.el.pause()},a.fn.paused=function(){return this.el.paused},a.fn.mute=function(){this.el.muted=!0},a.fn.unmute=function(){this.el.muted=!1},a.fn.muted=function(){return this.el.muted},a}(),FlashPlayer=function(a){function b(b,e,f){e.size||(e.size=l);var g="divinePlayer",h=(new Date).getTime(),m=[g,"onReady",h].join("_"),n=[g,"onError",h].join("_"),o=this;m&&(a[m]=function(){f(o)}),a[n]=function(a,b){throw{name:"ActionScript "+a,message:b}};var p=k(b.getAttribute("data-fallback-player"),e.swf);if(!p)throw"SWF url must be specified.";this.swf=i(p,b,{size:e.size,autoplay:j(b,"autoplay"),muted:j(b,"muted"),loop:j(b,"loop"),poster:j(b,"poster")?c(b.getAttribute("poster")):void 0,video:d(b),onReady:m,onError:n})}function c(a){return 0===(a||"").indexOf("//")?document.location.protocol+a:a}function d(a){var b=a.getElementsByTagName("source");return b.length?c(b[0].src):void 0}function e(a){return h(a,function(a,b){return a+'="'+b+'"'}," ")}function f(a){return h(a,function(a,b){return"<param "+e({name:a,value:b})+" />"},"\n")}function g(a){return h(a,function(a,b){return a+"="+encodeURIComponent(b)},"&")}function h(a,b,c){var d=[];for(var e in a)a.hasOwnProperty(e)&&d.push(b(e,a[e]));return d.join(c)}function i(a,b,c){var d=e({id:b.id,data:a,width:c.size,height:c.size,type:"application/x-shockwave-flash"}),h=f({movie:a,allowScriptAccess:"always",allowNetworking:"all",wmode:"opaque",quality:"high",bgcolor:"#000000",flashvars:g(c)});return b.outerHTML="<object "+d+">"+h+"</object>",document.getElementById(b.id)}function j(a,b){return null!=a.getAttribute(b)}function k(a,b){return null==b?a:b}var l=150;return b.name=b.name||"FlashPlayer",b.canPlay=function(){try{if(/MSIE 10/i.test(navigator.userAgent))return!1;var a=window.ActiveXObject?new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version"):navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin.description,b=/(\d+)[,.]\d+/.exec(a),c=parseInt(b[1],10);return c>=9}catch(d){}return!1},b.fn=b.prototype,b.fn.play=function(){this.swf.divinePlay()},b.fn.pause=function(){this.swf.divinePause()},b.fn.paused=function(){return this.swf.divinePaused()},b.fn.mute=function(){this.swf.divineMute()},b.fn.unmute=function(){this.swf.divineUnmute()},b.fn.muted=function(){return this.swf.divineMuted()},b}(this),DivinePlayer=function(){function a(f,h,i){b(f,"Element must be defined.");var h=h||{};if(h.allowHashMessage)for(var j=window.location.hash.replace("#","").split(","),k=0,l=j.length;l>k;k++)g.indexOf(j[k])>=0&&(h[j[k]]=!0);for(var k=0,l=g.length;l>k;k++){var m=g[k],n=h[g[k]];null!=n&&c(f,m,n)}var o=b(a.getSupportedPlayer(f),"No supported player found."),p=new o(f,h,i);return h.allowHashMessage&&d("hashchange",function(){e(window.location.hash.replace("#",""),p)}),h.allowPostMessage&&d("message",function(a){e(a.data,p)}),p}function b(a,b){if(!a)throw b||"Requirement isn't fullfilled";return a}function c(a,b,c){if(c)try{a.setAttribute(b,b)}catch(d){}else a.removeAttribute(b)}function d(a,b){window.addEventListener?window.addEventListener(a,b,!1):window.attachEvent("on"+a,b)}function e(a,b){switch(a){case"play":b.play();break;case"pause":b.pause();break;case"mute":b.mute();break;case"unmute":b.unmute()}}var f=[HTML5Player,FlashPlayer],g=["autoplay","controls","loop","muted"];return a.players=f,a.options=g,a.getSupportedPlayer=function(a){for(var b=0,c=f.length;c>b;b++)if(f[b].canPlay(a))return f[b]},a}();
return DivinePlayer;}());